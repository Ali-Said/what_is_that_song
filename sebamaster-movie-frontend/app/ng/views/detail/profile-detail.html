<div ng-app="myapp.profiles" id="profileWrapper" layout-padding profile>
    <div layout="row">
    <div layout="column" id="pic">
        <md-button class="round-button" ng-click="uploadPictureDialog()" ng-cloak>
            <img ng-src="http://localhost:3000/profile/pic/{{profile.picture || 'default'}}">
        </md-button>
        <div id="ratingInfo">
        <p class="md-body-1">Rating: {{profile.rating}}</p>
        <star-rating ng-model="profile.rating" readonly="true"></star-rating></div>
    </div>
    <div flex layout="column" width="300px">
        <div class="md-display-1 md-primary md-accent">{{profile.username}}</div>
        <p class="md-body-1">Name: {{profile.name}}</p>
        <p class="md-body-1">Birthday: {{profile.birthday | date:'dd.MM.yyyy'}}</p>
        <p class="md-body-1">E-Mail: {{profile.email}}</p>
        <p class="md-body-1">Points: {{profile.points}}</p>

        <div id='dv1' ng-controller="FrmController">
            Post your Status
            <form ng-show="mayDelete">
                    <textarea ng-model="txtcomment" id = "status" placeholder="Enter your text here" style='width:450px'></textarea>
                    <button ng-click='btn_add();' style='margin-top:10px;'>POST</button>
            </form>
            <li id='list' ng-repeat="comnt in profile.status"> {{ comnt }} <a ng-show="mayDelete" style="float: right;" href="" ng-click="remItem($index)">x</a></li>

        </div>

    </div>
    </div>
    <div layout="row" id="profileWrapper1">
    <div flex>
        <div id="headerOwn"><h4>Songs {{profile.songs.length == 0 ? 'No songs': ''}}</h4></div>
        <div layout="column" layout-align="center stretch">
            <md-card mv-song-card class="mv-card" song="song" ng-repeat="song in profile.songs"></md-card>
        </div>

        <div id="header"><h4>Buy Songs</h4></div>


        <div layout="row" layout-align="center stretch">
        <input type="text" ng-model="searchTerm" class="bar" placeholder="Enter your search terms" />
        </div>

        <md-content>
            <md-list flex>
                <md-list-item class="md-3-line" ng-repeat="track in tracks | orderBy: 'title' | filter:searchTerm"">
                    <div class="md-list-item-text" layout="column">
                        <h3>{{track.title }}</h3>
                        <h4>{{ track.artist }}</h4>
                        <p>Price: {{ track.points }}</p>
                        <p class="md-body-1" id="number of points">
                            <div ng-if="profile.points < track.points">You do not have enough points</div>
                            <div ng-if="profile.points >= track.points">
                                <md-button href="http://www.apple.com/itunes" target="_blank">
                                    <img src="/img/cart.png" alt="cart" width = "25" height = "25" style = "vertical-align: middle">Get now
                                </md-button>
                            </div>
                        </p>
                        <md-divider ></md-divider>
                    </div>
                </md-list-item>

            </md-list>
        </md-content>


</div>
</div>
</div>
