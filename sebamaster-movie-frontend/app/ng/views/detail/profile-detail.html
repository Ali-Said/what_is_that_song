<div ng-app="myapp.profiles" id="profileWrapper" layout-padding profile>

    <div layout="row">
    <div layout="column" id="pic">
        <md-button class="round-button" ng-click="uploadPictureDialog()" aria-label="Upload Picture" ng-cloak>
            <img ng-src="http://localhost:3000/profile/pic/{{profile.picture || 'default'}}">
        </md-button>
        <div id="ratingInfo">
        <p class="md-body-1">Rating: {{profile.rating}}</p>
        <star-rating ng-model="profile.rating" readonly="true"></star-rating></div>
    </div>
    <div flex layout="column" width="300px">


        <md-button class="md-icon-button" id="edit-button" aria-label="Profile-Settings"><md-icon md-menu-origin md-svg-icon="action:ic_settings_24px" ng-click="showEditDialog()">
        </md-icon></md-button>


        <div class="md-display-1 md-primary md-accent">{{profile.username}}</div>
        <p class="md-body-1">Name: {{profile.name}}</p>
        <p class="md-body-1">Birthday: {{profile.birthday | date:'dd.MM.yyyy'}}</p>
        <p class="md-body-1">E-Mail: {{profile.email}}</p>
        <p class="md-body-1">Points: {{profile.points}}</p>

        <div id='dv1' ng-controller="FrmController">
            Post your Status
            <form ng-show="mayDelete">
                    <textarea ng-model="txtcomment" id = "status" placeholder="Enter your text here" style='width:450px'></textarea>
                    <md-button class="md-raised md-primary" ng-click='btn_add();' layout-align="center end" style="background-color: #01579b; margin-left:369px;">POST</md-button>
            </form>
            <li id='list' ng-repeat="comnt in profile.status"> {{ comnt }} <a ng-show="mayDelete" style="float: right;" href="" ng-click="remItem($index)">x</a></li>

        </div>

    </div>
    </div>
    <div layout="row" id="profileWrapper1">
        <div flex>
            <div layout="column" layout-align="center stretch">
                <md-button class="md-raised md-primary" style="background-color: #01579b">Songs {{profile.songs.length == 0 ? 'No songs': ''}}</md-button></div>
        <div style="height: 230px; overflow: auto; padding: 5px;">
        <div layout="column" layout-align="center stretch">
            <md-card mv-song-card class="mv-card" song="song" ng-repeat="song in profile.songs"></md-card>
        </div>
        </div>


        <div layout="column" layout-align="center stretch">
            <md-button class="md-raised md-primary" style="background-color: #01579b">Buy Songs</md-button>
        </div>


        <div class="bar">
        <input type="text" ng-model="searchTerm" placeholder="Enter song title or artist" />
        </div>
        <md-content>
            <div style="height: 350px; overflow: auto; padding: 5px;">
            <md-list flex>
              <md-list-item class="md-3-line" ng-repeat="track in tracks | orderBy: 'title' | filter:searchTerm"">
                <img id="note_pic" src="/img/music_note.png" alt="music" width = "40" height = "35">
                </img>
                <div class="md-list-item-text" layout="column" layout-align="center stretch">
                        <h3>{{track.title }}</h3>
                        <h4>{{ track.artist }}</h4>
                        <p>Price: {{ track.points }}</p> </div>
                        <div class="md-body-1" id="number-of-points" layout="column" layout-align="center stretch">

                            <div ng-if="profile.points < track.points" style="margin-top: 18px; margin-right: 5px">You don't have enough points</div>
                            <div ng-if="profile.points >= track.points">
                                <md-button href="http://www.apple.com/itunes" target="_blank">
                                    <img src="/img/cart.png" alt="cart" width = "25" height = "25" style="color: black; vertical-align: middle">Get now
                                </md-button>
                            </div>
                        </div>
                        <md-divider ></md-divider>
                </md-list-item>
            </md-list>
            </div>
        </md-content>


</div>
</div>
</div>
